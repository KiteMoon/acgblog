<!-- build time:Mon Aug 01 2022 16:40:46 GMT+0000 (Coordinated Universal Time) --><!DOCTYPE html><html lang="zh_cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="鸢月博客" href="https://blog.13x.cc/rss.xml"><link rel="alternate" type="application/atom+xml" title="鸢月博客" href="https://blog.13x.cc/atom.xml"><link rel="alternate" type="application/json" title="鸢月博客" href="https://blog.13x.cc/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="白嫖,图床,B2,CloudFlare"><link rel="canonical" href="https://blog.13x.cc/blog/2022/06/cl6az9s340001gqohfmzsbrq1/"><title>B2+cloudflace+Picgo实现图床 - 经验 | KiteMoon = 鸢月博客 = 国内站</title><meta name="generator" content="Hexo 6.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">B2+cloudflace+Picgo实现图床</h1><div class="meta"><span class="item" title="Created: 2022-06-28 13:47:40"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2022-06-28T13:47:40+08:00">2022-06-28</time> </span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">Symbols count in article</span> <span>4.7k</span> <span class="text">words</span> </span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">Reading time</span> <span>4 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">KiteMoon</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="https://txcdn.2cy.plus/2022/07/01/62befc9bc8008/blog-cover-32.png"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E7%BB%8F%E9%AA%8C/" itemprop="item" rel="index" title="In 经验"><span itemprop="name">经验</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh_cn"><link itemprop="mainEntityOfPage" href="https://blog.13x.cc/blog/2022/06/cl6az9s340001gqohfmzsbrq1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="kitemoon"><meta itemprop="description" content="国内站, 鸢月博客静态主站"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="鸢月博客"></span><div class="body md" itemprop="articleBody"><h1 id="b2cloudflacepicgo实现图床"><a class="anchor" href="#b2cloudflacepicgo实现图床">#</a> B2+cloudflace+Picgo 实现图床</h1><h2 id="前排提醒"><a class="anchor" href="#前排提醒">#</a> 前排提醒</h2><p>任何非付费得到计划都有风险，个人建议从两方面入手，别绑卡，别给真实信息，这样跑炸了也不会经济损失</p><p>同时请注意，务必注意，CF 对国内加速效果很差劲，所以推荐国际网站使用。</p><p>文中所有信息都需要结合实际情况进行填写，切勿随意乱填</p><p>小本本非常重要，请务必按照实际情况记录。</p><h2 id="准备工作"><a class="anchor" href="#准备工作">#</a> 准备工作</h2><p>一个域名：需要 NS 解析到 <code>cloudflace</code></p><p>一个 B2 账号：需要能开桶</p><p>一个 cloudflace：Free 版本才行</p><h2 id="正篇"><a class="anchor" href="#正篇">#</a> 正篇</h2><h3 id="b2设置"><a class="anchor" href="#b2设置">#</a> B2 设置</h3><h4 id="创建b2桶"><a class="anchor" href="#创建b2桶">#</a> 创建 B2 桶</h4><p>首先，我们需要前往网站 <code>https://www.backblaze.com/zh_CN/cloud-storage.html</code></p><p>注册一个账号，注册账号后我们进入桶界面，创建一个新的桶</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628111626274.png" alt="创建桶"></p><p>点击后，我们设置桶的名称和信息（注意，选择公众）其他均选择停用，如图所示</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628111744198.png" alt="image-20220628111744198"></p><p>创建后，我们可以看到桶信息，选择上载 / 下载</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628111856299.png" alt="image-20220628111856299"></p><p>进入后，选择上载，随便上载一个图片<img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628114858712.png" alt="image-20220628114858712"></p><p>上载后，我们点击该文件，打开详细信息，找到友好 URL</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628115010181.png" alt="image-20220628115010181"></p><p>这里注意，我们复制友好链接中主机那段信息 <code>f004.backblazeb2.com</code> 出来单独保存（注意，每个人这里都不一样）</p><p>我们单独写在我们的记事本上</p><pre><code># 记事本
f004.backblazeb2.com
</code></pre><h4 id="记录桶信息"><a class="anchor" href="#记录桶信息">#</a> 记录桶信息</h4><p>接着，我们找到桶信息页，记录下地域和桶名称</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628115251935.png" alt="image-20220628115251935"></p><pre><code># 记事本
URL:f004.backblazeb2.com
桶名称:TESTTEST123123SS
Endpoint:s3.us-west-004.backblazeb2.com
</code></pre><h4 id="修改桶缓存信息"><a class="anchor" href="#修改桶缓存信息">#</a> 修改桶缓存信息</h4><p>我们需要设置好桶的缓存，这样可以节约部分流量费</p><p>首先，我们打开 <code>桶设定</code></p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628115558142.png" alt="image-20220628115558142"></p><p>将桶设定中桶信息设定为下面这个 json, 修改后如图所示</p><pre><code>&#123;&quot;cache-control&quot;:&quot;max-age=720000&quot;&#125;
</code></pre><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628115646020.png" alt="image-20220628115646020"></p><p>设定好后，我们点击更新桶，完成更新。至此，我们在 B2 设定就告一段落</p><h3 id="cloudflare设置"><a class="anchor" href="#cloudflare设置">#</a> cloudflare 设置</h3><p>首先，我们需要提前将域名 NS 设置到 cloudflare 中，这些工作都是准备工作，因此不在赘述，我们现在进入 DNS 管理页，进行设置</p><h4 id="dns解析设置"><a class="anchor" href="#dns解析设置">#</a> DNS 解析设置</h4><p>首先，我们来到 DNS 页，选择添加记录</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628120057290.png" alt="image-20220628120057290"></p><p>这里，我们按照自己的想法，设定好主机名，然后选择 cname 记录，目标选择为我们刚才在记事本内记录的 URL</p><p>[scode color=&quot;yellow&quot;] 注意，这里代理状态必须要是已代理 [/scode]</p><figure class="highlight txt"><figcaption data-lang="txt"></figcaption><table><tr><td data-num="1"></td><td><pre># 记事本</pre></td></tr><tr><td data-num="2"></td><td><pre>URL:f004.backblazeb2.com  &lt;-就是这个</pre></td></tr><tr><td data-num="3"></td><td><pre>桶名称:TESTTEST123123SS</pre></td></tr><tr><td data-num="4"></td><td><pre>Endpoint:s3.us-west-004.backblazeb2.com</pre></td></tr></table></figure><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628120203972.png" alt="image-20220628120203972"></p><p>设置完毕后，我们点击保存，保存后等待 10 分钟，按照下面这个格式访问，应该就可以访问成功了</p><pre><code># 访问方式
https://&lt;主机名&gt;.&lt;域名&gt;/file/&lt;桶名称&gt;/&lt;桶内实际路径&gt;
# 比如我的主机名是cc 域名是 test.com 桶名称为TESTTEST123123SS 实际路径为 /48738560_p0_thumbnail.png
那么我就应该访问:https://cc.test.com/file/TESTTEST123123SS/48738560_p0_thumbnail.png
</code></pre><p>接着，我们就可以尝试访问了（当然这一步可能会失败，查看下一节解决）</p><h4 id="https报错无法访问"><a class="anchor" href="#https报错无法访问">#</a> HTTPS 报错 / 无法访问</h4><p>这个问题是因为 B2 储存只支持 <code>HTTPS</code> 访问，如果没有则会报错，因此我们需要前往 <code>SSL/TLS</code> 进行设置 (点击路径 <code>SSL/TLS</code> -&gt; <code>概述</code> )</p><p>如图所示，我们需要将模式修改为 <code>完全模式</code></p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628121024546.png" alt="image-20220628121024546"></p><p>设置完毕后，我们访问就可以看到我们的图片了（SSL）</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628121125601.png" alt="image-20220628121125601"></p><p>此时别急，拿出我们的小本本，记录一下我们访问的这个 URL</p><pre><code># 记事本
URL:f004.backblazeb2.com  &lt;-就是这个
桶名称:TESTTEST123123SS
Endpoint:s3.us-west-004.backblazeb2.com
访问URL：https://cc.test.com/file/TESTTEST123123SS/48738560_p0_thumbnail.png
</code></pre><h4 id="隐藏桶信息"><a class="anchor" href="#隐藏桶信息">#</a> 隐藏桶信息</h4><p>在讲解之前，我们需要解释下为什么需要隐藏桶信息</p><p>因为我们免费图床是需要利用 cloudflare 和 B2 之间的带宽联盟来实现回源流量费免费的。</p><blockquote><p>带宽联盟:</p><p>2018 年的 Cloudflare 生日周，我们宣布正式推出<em>带宽联盟</em>：一群具有前瞻性的云计算和网络公司，致力于为我们的共同客户提供最佳和最具成本效益的体验</p><p>说白话：就是 cloudflare 联合一些公司一起，将这些公司之间的流量传输（比如从 cloudflare-&gt;B2）这一段流量费给减免或者免费（原来这是一笔高额的费用，走的公网带宽）</p></blockquote><p>我们通过 cloudflare 来浏览图片本身是免费的（cloudflare 免费计划），cloudflare 从 B2 获取图片这段路径也是免费的（带宽联盟），但是从我们从 B2 直接访问图片是付费的，如图所示。</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628121844643.png" alt="image-20220628121844643"></p><p>因此，我们应该尽可能的避免用户直接访问 B2，因此，我们需要进行如下设置来隐藏我们的信息。</p><hr><p>首先，我们需要进入 <code>规则</code> 页面，选择 <code>转发规则</code></p><p>点击后我们要选中 <code>创建转换规则</code> ，然后选择 <code>URL重写</code> ，这样我们的链接就会在经过 CDN 节点的时候自动被转换为包含 B2 信息的 URL，并被请求，这样我们的在外部请求的时候就不会泄露 B2 的相关信息了</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628122226256.png" alt="image-20220628122226256"></p><p>进入页面后，我们随便给规则命名，然后 <code>当传入请求匹配时...</code> , 我们设置为以下信息</p><pre><code>字段:主机名
运算符：等于
</code></pre><p>关于值的信息，我们掏出小本本，看一下</p><pre><code># 记事本
URL:f004.backblazeb2.com  &lt;-就是这个
桶名称:TESTTEST123123SS
Endpoint:s3.us-west-004.backblazeb2.com
访问URL：https://cc.test.com/file/TESTTEST123123SS/48738560_p0_thumbnail.png
</code></pre><p>我们将我们访问 URL 中的主机名（在记事本中，我们的主机名是 <code>cc.test.com</code> ，其实就是我们的域名）填入到 <code>值</code> 的位置</p><p>如下图所示</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628122646947.png" alt="image-20220628122646947"></p><p>设置完毕后，我们向下看</p><p>在 <code>然后...</code> 这里，我们选择 <code>重写到...</code> ，并选择为 <code>Dynamic</code> 如图所示</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628122749565.png" alt="image-20220628122749565"></p><p>接着我们掏出小本本</p><pre><code># 记事本
URL:f004.backblazeb2.com  &lt;-就是这个
桶名称:TESTTEST123123SS
Endpoint:s3.us-west-004.backblazeb2.com
访问URL：https://cc.test.com/file/TESTTEST123123SS/48738560_p0_thumbnail.png
</code></pre><p>访问 URL 中，我们后面跟随了一段路径，这里是 <code>/file/TESTTEST123123SS</code> ，我们需要让边缘节点帮我自动转发到这个节点，但是同时，我不希望丢失我的路径信息，如下面所示</p><pre><code># 原始链接:cc.test.com/48738560_p0_thumbnail.png
# 实际物理链接：cc.test.com/file/TESTTEST123123SS/48738560_p0_thumbnail.png
# 我需要服务端将cc.test.com/ 转换为-&gt;cc.test.com/file/TESTTEST123123SS
# 同时我需要保留 48738560_p0_thumbnail.png
# 因此我需要完成拼接 cc.test.com/file/TESTTEST123123SS/ + 48738560_p0_thumbnail.png
# 我们就可以利用concat函数和http.request.uri.path这个变量来实现
# concat是将两个变量/字符串拼接为一个
# http.request.uri.path是提取我们原始链接cc.test.com/48738560_p0_thumbnail.png 中的PATH部分即为:48738560_p0_thumbnail.png 
# 因此，我们可以编写一个式子用来实现转换
# concat(&quot;/file/TESTTEST123123SS&quot;, http.request.uri.path)
# 这样，我们的PATH就被转换为了/file/TESTTEST123123SS/48738560_p0_thumbnail.png
# 这个过程只有边缘节点有感知，用户无感知，从而实现隐藏桶信息和转换记录
</code></pre><p>根据上述过程，我们可以编写出这样一个式子: <code>concat(&quot;/file/TESTTEST123123SS&quot;, http.request.uri.path)</code></p><p>将其填入我们的框中</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628123530790.png" alt="image-20220628123530790"></p><p>接着保存即可。此时，我们直接访问 <code>https://&lt;主机名&gt;.&lt;域名&gt;/&lt;桶内路径&gt;</code> ，就可以直接访问图片了，这样既减少了链接长度，还保护了 B2 的信息</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628123831103.png" alt="image-20220628123831103"></p><h4 id="设置缓存"><a class="anchor" href="#设置缓存">#</a> 设置缓存</h4><p>虽然完成上述的步骤就基本可用了，但是咱们还是得给 CDN 上缓存，因为我们上传的图片基本不会删除，也不会变化，因此为了 CDN 的命中率，我们可以给这些东西设置缓存，来实现更快的访问</p><p>首先，我们要来到 <code>规则</code> &gt; <code>页面规则</code> ，新建一个规则内容如下</p><pre><code>URL:我们刚才设置CNAME的那个域（cc.test.com),在后面加上/* 组合为:cc.test.com/*
选取设置 （必需）:缓存级别
选择缓存级别 （必需）：缓存所有内容
</code></pre><p>设置图如下</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628124246284.png" alt="image-20220628124246284"></p><p>设置完毕后保存并部署</p><p>然后，我们再设置个页面规则</p><pre><code>URL:我们刚才设置CNAME的那个域（cc.test.com),在后面加上/file/&lt;桶名称&gt;/* 组合为:cc.test.com/TESTTEST123123SS/*
选取设置 （必需）:缓存级别
选择缓存级别 （必需）：缓存所有内容
</code></pre><p>设置完毕后同样部署即可</p><p>这样，我们 CDN 的缓存命中率就明显提升了。</p><h3 id="连接picgo"><a class="anchor" href="#连接picgo">#</a> 连接 picGo</h3><p>连接 PicGO 我们需要准备一个插件 <code>picgo-plugin-s3</code> ，Github 地址:<a href="%22https://github.com/wayjam/picgo-plugin-s3%22"> 点我跳转</a></p><p>我们这这里使用 Picgo GUI 演示</p><h4 id="获取b2秘钥"><a class="anchor" href="#获取b2秘钥">#</a> 获取 B2 秘钥</h4><p>来到 B2 界面，选择 <code>应用程序键</code> ，选择新建一个应用秘钥</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628125040109.png" alt="image-20220628125040109"></p><p>按照图中的方式选择</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628125113320.png" alt="image-20220628125113320"></p><p>设置完成后，选择创建秘钥，会返回这样一段信息</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628125150331.png" alt="image-20220628125150331"></p><p>记录到小本本</p><pre><code># 记事本(关键信息已经脱敏)
URL:f004.backblazeb2.com  &lt;-就是这个
桶名称:TESTTEST123123SS
Endpoint:s3.us-west-004.backblazeb2.com
访问URL：https://cc.test.com/file/TESTTEST123123SS/48738560_p0_thumbnail.png
keyID:xxxxxxxxxx
keyName:xxxxx
applicationKey:xxxxxxxxxxxx
</code></pre><p>接着，我们打开我们的 picgo，选择插件并安装</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628125305367.png" alt="image-20220628125305367"></p><p>安装完毕后，我们转到 Amazon S3 设置</p><p>开始填写信息</p><p><img data-src="https://pic.sikadi.top/internationBlog/2022/06image-20220628125342888.png" alt="image-20220628125342888"></p><pre><code>应用秘钥ID：keyID（小本本中的keyID，每个人不一样）
应用秘钥:applicationKey(小本本中的applicationKey，每个人不一样)
桶：桶名称（小本本上的桶名称）
文件路径：按需设置，嫌麻烦可以直接/
权限:public-read
地区:不填
自定义节点:小本本中的Endpoint
自定义域名:刚才我们CNAME记录所记录的主机名+域名 (本文中是https://cc.test.com)
下面两个开关:全关
</code></pre><p>接着，点击保存即可，保存后，我们可以尝试上传图片，成功即可。</p><div class="tags"><a href="/tags/%E7%99%BD%E5%AB%96/" rel="tag"><i class="ic i-tag"></i> 白嫖</a> <a href="/tags/%E5%9B%BE%E5%BA%8A/" rel="tag"><i class="ic i-tag"></i> 图床</a> <a href="/tags/B2/" rel="tag"><i class="ic i-tag"></i> B2</a> <a href="/tags/CloudFlare/" rel="tag"><i class="ic i-tag"></i> CloudFlare</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2022-08-02 00:40:23" itemprop="dateModified" datetime="2022-08-02T00:40:23+08:00">2022-08-02</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="kitemoon WeChat Pay"><p>WeChat Pay</p></div><div><img data-src="/images/alipay.png" alt="kitemoon Alipay"><p>Alipay</p></div><div><img data-src="/images/paypal.png" alt="kitemoon PayPal"><p>PayPal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>kitemoon <i class="ic i-at"><em>@</em></i>鸢月博客</li><li class="link"><strong>Post link: </strong><a href="https://blog.13x.cc/blog/2022/06/cl6az9s340001gqohfmzsbrq1/" title="B2+cloudflace+Picgo实现图床">https://blog.13x.cc/blog/2022/06/cl6az9s340001gqohfmzsbrq1/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/blog/2022/06/cl6az9s40001bgqohf6tkdg3z/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclh5u05ej20zk0m87df.jpg" title="华为数通学习记录——Part2"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i> 运维</span><h3>华为数通学习记录——Part2</h3></a></div><div class="item right"><a href="/blog/2022/07/cl6az9s46001mgqoh4vhqejer/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;pic.sikadi.top&#x2F;internationBlog&#x2F;2022&#x2F;07&#x2F;blog-cover-33.png" title="软路由+Docker+ASF实现本地24h挂卡"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i> 运维</span><h3>软路由+Docker+ASF实现本地24h挂卡</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#b2cloudflacepicgo%E5%AE%9E%E7%8E%B0%E5%9B%BE%E5%BA%8A"><span class="toc-number">1.</span> <span class="toc-text">B2+cloudflace+Picgo 实现图床</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E6%8E%92%E6%8F%90%E9%86%92"><span class="toc-number">1.1.</span> <span class="toc-text">前排提醒</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">1.2.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E7%AF%87"><span class="toc-number">1.3.</span> <span class="toc-text">正篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#b2%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.3.1.</span> <span class="toc-text">B2 设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAb2%E6%A1%B6"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">创建 B2 桶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95%E6%A1%B6%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">记录桶信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%A1%B6%E7%BC%93%E5%AD%98%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">修改桶缓存信息</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cloudflare%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.3.2.</span> <span class="toc-text">cloudflare 设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#dns%E8%A7%A3%E6%9E%90%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">DNS 解析设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#https%E6%8A%A5%E9%94%99%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">HTTPS 报错 &#x2F; 无法访问</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E8%97%8F%E6%A1%B6%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">隐藏桶信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%BC%93%E5%AD%98"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">设置缓存</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5picgo"><span class="toc-number">1.3.3.</span> <span class="toc-text">连接 picGo</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96b2%E7%A7%98%E9%92%A5"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">获取 B2 秘钥</span></a></li></ol></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"><ul><li class="active"><a href="/blog/2022/06/cl6az9s340001gqohfmzsbrq1/" rel="bookmark" title="B2+cloudflace+Picgo实现图床">B2+cloudflace+Picgo实现图床</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="kitemoon" data-src="/images/avatar.jpg"><p class="name" itemprop="name">kitemoon</p><div class="description" itemprop="description">鸢月博客静态主站</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">23</span> <span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">6</span> <span class="name">categories</span></a></div><div class="item tags"><a href="/tags/"><span class="count">44</span> <span class="name">tags</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item"><span class="exturl" data-url="aHR0cHM6Ly91cmwubG9saS5maXQ="><i class="ic i-link"></i>短链接服务</span></li><li class="item"><span class="exturl" data-url="aHR0cHM6Ly9waWMubG9saS5maXQ="><i class="ic i-stars"></i>图床</span></li><li class="item"><span class="exturl" data-url="aHR0cHM6Ly9wYW4ubG9saS5maXQ="><i class="ic i-cloud"></i>鸢月网盘</span></li><li class="item"><span class="exturl" data-url="aHR0cHM6Ly9zdGF0dXMubG9saS5maXQ="><i class="ic i-stars"></i>探针服务</span></li><li class="item"><a href="/friends" rel="section"><i class="ic i-user"></i>Friend</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/blog/2022/06/cl6az9s40001bgqohf6tkdg3z/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/blog/2022/07/cl6az9s46001mgqoh4vhqejer/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="In 学习笔记">学习笔记</a></div><span><a href="/blog/2022/07/cl6az9s3m000ggqoh81cf2872/" title="HCIE Cloud 学习笔记 Day4">HCIE Cloud 学习笔记 Day4</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%BF%90%E7%BB%B4/" title="In 运维">运维</a></div><span><a href="/blog/2022/01/cl6az9s3v0012gqoh4bqu4ssv/" title="FusionAccess(华为云桌面)安装">FusionAccess(华为云桌面)安装</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%BC%80%E5%8F%91/" title="In 开发">开发</a></div><span><a href="/blog/2022/04/cl6az9s3r000rgqoh3ed1dgkp/" title="Reast自学篇-2">Reast自学篇-2</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E9%9F%B3%E4%B9%90/" title="In 音乐">音乐</a> <i class="ic i-angle-right"></i> <a href="/categories/%E9%9F%B3%E4%B9%90/%E6%AD%8C%E8%AF%8D/" title="In 歌词">歌词</a></div><span><a href="/blog/2022/06/cl6az9s3w0015gqohhgyoh9xe/" title="五维介质-【平行四界Quadimension X-2】-SHan山梦游仙境-歌词五维介质-【平行四界Quadimension X-2】-圣诞夜-Whispering Snowflakes 雪花倾诉之时-歌词">五维介质-【平行四界Quadimension X-2】-SHan山梦游仙境-歌词五维介质-【平行四界Quadimension X-2】-圣诞夜-Whispering Snowflakes 雪花倾诉之时-歌词</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%BB%8F%E9%AA%8C/" title="In 经验">经验</a></div><span><a href="/blog/2022/06/cl6az9s340001gqohfmzsbrq1/" title="B2+cloudflace+Picgo实现图床">B2+cloudflace+Picgo实现图床</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%BC%80%E5%8F%91/" title="In 开发">开发</a></div><span><a href="/blog/2022/04/cl6az9s3t000vgqoh66ypfl86/" title="Reast自学篇-3">Reast自学篇-3</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%BF%90%E7%BB%B4/" title="In 运维">运维</a></div><span><a href="/blog/2022/01/cl6az9s3b0005gqohhefpbohn/" title="FusionAcces发放桌面">FusionAcces发放桌面</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="In 学习笔记">学习笔记</a></div><span><a href="/blog/2022/07/cl6az9s3i000bgqohdt3pf5l3/" title="HCIE Cloud 学习笔记 Day1">HCIE Cloud 学习笔记 Day1</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="In 学习笔记">学习笔记</a></div><span><a href="/blog/2022/07/cl6az9s3h000agqoh9n2oa0z2/" title="HCIE Cloud 学习笔记 Day2">HCIE Cloud 学习笔记 Day2</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="In 学习笔记">学习笔记</a></div><span><a href="/blog/2022/07/cl6az9s3k000fgqoh2ajued3b/" title="HCIE Cloud 学习笔记 Day3">HCIE Cloud 学习笔记 Day3</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">kitemoon @ KiteMoon</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="Symbols count total">41k words</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="Reading time total">37 mins.</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"blog/2022/06/cl6az9s340001gqohfmzsbrq1/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->